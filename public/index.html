<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="PA25 Sascha — Basic HTML starter" />
    <title>PA25 Sascha</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/styles.css">

    <!-- jQuery einbinden -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <h1>&#127828;Burgermeisterin&#127828;</h1>
    </header>   
    <main class="row">
        <div class="col-7" id="burger">
            <h4>Dein Burger:</h4>
            <div id="burger-display">
                <p class="text-sm">Wähle zuerst deine Zutaten aus!</p>
            </div>
            <button id="reset-btn" class="btn">Zurücksetzen</button>
        </div>
        <div class="col-5">
            <h3>Zutaten auswählen:</h3>
            <div id="ingredients-list">
                <!-- Dynamische Zutatenliste -->
                
            </div>
        </div>
    </main>
    <footer>
        <p class="text-xs">&copy; <span id="year"></span> PA25 Sascha</p>
    </footer>

    <script>
        // aktuelles Jahr für Footer
        document.getElementById('year').textContent = new Date().getFullYear();

        $('#reset-btn').on('click', function() {
            $('#burger-display').empty().append('<p class="text-sm">Wähle zuerst deine Zutaten aus!</p>');
        }); 

        // Funktion zum Hinzufügen einer Zutat zum Burger
        function addIngredientToBurger(ingredient){
            const burgerDisplay = document.getElementById('burger-display');

            // Neues Element für die Zutat erstellen
            const ingredientDiv = document.createElement('div');
            ingredientDiv.className = 'burger-ingredient ' + ingredient.category;
            ingredientDiv.textContent = ingredient.name;

            // Zutat zum Burger-Display hinzufügen
            burgerDisplay.appendChild(ingredientDiv);
        }


        // Zutaten laden und anzeigen
        fetch('ingredients.json')
            .then(response => response.json())
            .then(data => {
                const ingredientsList = document.getElementById('ingredients-list');

                // Kategorien durchlaufen
                for (const category in data) {
                    const categoryDiv = document.createElement('div');
                    const categoryTitle = document.createElement('h5');
                    categoryTitle.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                    categoryDiv.appendChild(categoryTitle);

                    data[category].forEach(ingredient => {
                        const ingredientBtn = document.createElement('button');
                        ingredientBtn.className = 'ingredient-btn btn ' + categoryTitle.textContent.toLowerCase();
                        ingredientBtn.textContent = ingredient.name;
                        ingredientBtn.onclick = () => addIngredientToBurger(ingredient);
                        categoryDiv.appendChild(ingredientBtn);
                    });

                    ingredientsList.appendChild(categoryDiv);
                }
            })
            .catch(error => console.error('Error loading ingredients:', error));
    </script>
</body>
</html>